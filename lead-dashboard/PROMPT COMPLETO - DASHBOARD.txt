# üìä PROMPT COMPLETO - DASHBOARD ADMINISTRATIVO QUIZ MTC

```markdown
# üéØ CONTEXTO DO PROJETO

Sou desenvolvedor do projeto **Quiz MTC (Medicina Tradicional Chinesa)** para o Mestre Ye. O quiz captura e qualifica leads para o evento "Black November da Sa√∫de Vital√≠cia" e est√° em produ√ß√£o em https://quiz.qigongbrasil.com.

Preciso desenvolver um **Dashboard Administrativo Profissional** para visualiza√ß√£o e gest√£o estrat√©gica de todos os dados coletados.

---

## üèóÔ∏è ARQUITETURA ATUAL

### Stack Tecnol√≥gica:
- **Frontend Quiz:** React (Create React App) + Tailwind CSS
- **Backend:** Vercel Serverless Functions
- **Banco de Dados:** Supabase (PostgreSQL)
- **Deploy:** Vercel
- **Dom√≠nio Quiz:** https://quiz.qigongbrasil.com

### Estrutura do Banco de Dados (Supabase):

Tabela: `quiz_leads`

```sql
CREATE TABLE quiz_leads (
  -- Identifica√ß√£o
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  nome TEXT NOT NULL,
  email TEXT NOT NULL,
  celular TEXT UNIQUE NOT NULL,
  
  -- Dados do Quiz
  respostas JSONB NOT NULL,
  elemento_principal TEXT,
  codigo_perfil TEXT,
  nome_perfil TEXT,
  arquetipo TEXT,
  emoji TEXT,
  
  -- Diagn√≥stico MTC
  quadrante INT4,
  diagnostico_resumo TEXT,
  diagnostico_completo TEXT,
  script_abertura TEXT,
  
  -- Lead Scoring
  lead_score INT4,
  prioridade TEXT, -- 'ALTA', 'M√âDIA', 'BAIXA'
  is_hot_lead_vip BOOLEAN,
  
  -- Status de Follow-up
  whatsapp_status TEXT DEFAULT 'AGUARDANDO_CONTATO',
  
  -- Timestamps
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### Estrutura das Respostas (JSONB):

```javascript
respostas: {
  "P1": "A",  // Intensidade das dores (A=20, B=16, C=12, D=8, E=4)
  "P2": ["A", "C"],  // Localiza√ß√£o (m√∫ltipla escolha, max 2)
  "P3": "B",  // Tempo de sintomas (A=15, B=12, C=9, D=6, E=3)
  "P4": ["A", "C", "D"],  // Sintomas f√≠sicos (m√∫ltipla, max 3)
  "P5": "A",  // Estado emocional
  "P6": "A",  // Tratamentos anteriores (A=15, B=12, C=9, D=6, E=3)
  "P7": "B",  // Maior preocupa√ß√£o
  "P8": "A",  // Urg√™ncia (A=20, B=16, C=12, D=8, E=4) - CR√çTICA
  "P9": "A",  // Inten√ß√£o de participar (A=15, B=12, C=9, D=6, E=3)
  "P10": "F", // Faixa et√°ria
  "P11": "G", // Renda mensal (A=2, B=3, C=4... J=10)
  "P12": "A", // J√° √© aluno
  "P13": "E"  // Tempo que conhece
}
```

### Sistema de Diagn√≥stico MTC (5 Elementos):

**Mapeamento de Respostas ‚Üí Elementos:**
- **RIM (√Ågua)** üåä: P2-A, P2-B, P4-A, P4-B, P5-D
- **F√çGADO (Madeira)** üå≥: P2-C, P4-E, P5-A
- **BA√áO (Terra)** üåç: P2-D, P4-D, P5-B
- **CORA√á√ÉO (Fogo)** üî•: P2-E, P4-C, P5-E
- **PULM√ÉO (Metal)** üí®: P2-F, P5-C

**Pesos:** P2 = 3x, P4 = 2x, P5 = 1x

### Lead Scoring (0-100):

```javascript
F√≥rmula:
- P1 (Intensidade): A=20, B=16, C=12, D=8, E=4
- P3 (Tempo): A=15, B=12, C=9, D=6, E=3
- P6 (Tratamentos): A=15, B=12, C=9, D=6, E=3
- P8 (Urg√™ncia): A=20, B=16, C=12, D=8, E=4
- P9 (Inten√ß√£o): A=15, B=12, C=9, D=6, E=3
- P11 (Renda): A=2, B=3, C=4... J=10
- P12 (Novo aluno): +5 pontos

Prioridade:
- ALTA: score ‚â• 70
- M√âDIA: 40-69
- BAIXA: < 40

Hot Lead VIP:
- Score ‚â• 80 OU Quadrante 1 OU P8='A'
```

### Quadrantes (Matriz Urg√™ncia x Intensidade):

```
Quadrante 1: Alta Urg√™ncia + Alta Intensidade (HOT VIP)
Quadrante 2: Alta Urg√™ncia + Baixa Intensidade
Quadrante 3: Baixa Urg√™ncia + Alta Intensidade
Quadrante 4: Baixa Urg√™ncia + Baixa Intensidade
```

---

## üéØ REQUISITOS DO DASHBOARD

### 1. VIS√ÉO GERAL (Home)

**M√©tricas Principais (Cards):**
- Total de Leads
- Hot Leads VIP (%)
- Taxa de Convers√£o do Quiz (%)
- Lead Score M√©dio
- Leads Hoje / Esta Semana / Este M√™s
- Taxa de Resposta WhatsApp

**Gr√°ficos:**
- Funil de Convers√£o (in√≠cio ‚Üí conclus√£o ‚Üí contato ‚Üí venda)
- Leads por Dia/Semana (linha do tempo)
- Distribui√ß√£o por Prioridade (pizza)
- Distribui√ß√£o por Elemento MTC (barras horizontais com emojis)
- Distribui√ß√£o por Quadrante (matriz 2x2)

### 2. LEADS (Lista Completa)

**Tabela Interativa com:**
- Filtros avan√ßados:
  - Elemento (RIM, F√çGADO, BA√áO, CORA√á√ÉO, PULM√ÉO)
  - Prioridade (ALTA, M√âDIA, BAIXA)
  - Score (range slider 0-100)
  - Quadrante (1-4)
  - Data (range de datas)
  - Status WhatsApp
  - Faixa Et√°ria
  - Renda
  - J√° √© aluno (sim/n√£o)
  
- Colunas:
  - Nome (com avatar colorido por elemento)
  - Email
  - Celular (com bot√£o WhatsApp)
  - Elemento + Emoji
  - Score (badge colorido)
  - Prioridade (badge)
  - Quadrante
  - Status WhatsApp
  - Data de Cadastro
  - A√ß√µes (ver detalhes, editar, exportar)

- Busca global (nome, email, celular)
- Ordena√ß√£o por qualquer coluna
- Pagina√ß√£o
- Exporta√ß√£o CSV/Excel (filtros aplicados)
- A√ß√µes em lote (marcar como contatado, etc)

### 3. DETALHES DO LEAD (Modal ou P√°gina)

**Informa√ß√µes Completas:**
- Dados pessoais (nome, email, celular)
- Elemento MTC com descri√ß√£o
- Todas as 13 respostas do quiz (visual bonito)
- Diagn√≥stico completo personalizado
- Script de abertura WhatsApp (com bot√£o copiar)
- Hist√≥rico de intera√ß√µes
- Notas/coment√°rios da equipe
- Timeline de atividades

**A√ß√µes Dispon√≠veis:**
- Copiar script WhatsApp
- Abrir WhatsApp direto
- Adicionar nota
- Marcar como contatado
- Atribuir para vendedor
- Mudar status
- Exportar PDF

### 4. AN√ÅLISE POR ELEMENTO MTC

**Para cada elemento (RIM, F√çGADO, BA√áO, CORA√á√ÉO, PULM√ÉO):**
- Total de leads
- Score m√©dio
- Taxa de hot leads
- Perfil demogr√°fico (idade, renda)
- Respostas mais comuns
- Taxa de convers√£o
- Gr√°fico de evolu√ß√£o temporal

### 5. AN√ÅLISE DE RESPOSTAS

**Por Pergunta:**
- Distribui√ß√£o de respostas (gr√°fico)
- Correla√ß√£o com lead score
- Taxa de abandono por pergunta
- Tempo m√©dio de resposta

**Insights Autom√°ticos:**
- Perguntas com maior abandono
- Padr√µes de respostas de hot leads
- Correla√ß√µes entre respostas

### 6. FUNIL DE VENDAS

**Est√°gios:**
- Aguardando Contato
- Contatado (WhatsApp enviado)
- Em Conversa
- Qualificado
- Inscrito no Evento
- Convertido (pagou)
- N√£o Respondeu
- Desqualificado

**M√©tricas:**
- Taxa de convers√£o por est√°gio
- Tempo m√©dio por est√°gio
- Leads perdidos (onde e por qu√™)
- Gr√°fico de funil visual

### 7. DESEMPENHO DA EQUIPE

**Se houver atribui√ß√£o de vendedores:**
- Leads atribu√≠dos por vendedor
- Taxa de convers√£o por vendedor
- Tempo m√©dio de resposta
- Ranking de vendedores
- Meta vs Realizado

### 8. RELAT√ìRIOS E EXPORTA√á√ÉO

**Relat√≥rios Predefinidos:**
- Hot Leads da Semana
- Leads N√£o Contatados
- Leads por Elemento
- Performance do Quiz
- ROI por Canal (se UTMs implementados)

**Exporta√ß√µes:**
- CSV/Excel com todos os dados
- PDF individual por lead
- Relat√≥rio executivo (PowerPoint/PDF)

### 9. CONFIGURA√á√ïES

- Gerenciar usu√°rios do dashboard
- Permiss√µes (admin, vendedor, analista)
- Webhooks/integra√ß√µes
- Backup de dados

---

## üé® REQUISITOS DE DESIGN

### Identidade Visual:
- **Cores Prim√°rias:** Cyan (#06b6d4) e Blue (#3b82f6)
- **Cores Secund√°rias:** Slate para neutros
- **Emojis dos Elementos:** üåä üå≥ üåç üî• üí®

### UX/UI:
- Design moderno e profissional (estilo shadcn/ui)
- Responsivo (desktop priority, mas funcional em tablet)
- Dark mode opcional
- Sidebar com navega√ß√£o
- Carregamento r√°pido (skeleton loaders)
- Feedback visual em todas as a√ß√µes
- Gr√°ficos interativos (hover, drill-down)

---

## üõ†Ô∏è STACK TECNOL√ìGICA SUGERIDA

### Frontend:
- **Framework:** Next.js 14+ (App Router)
- **UI Components:** shadcn/ui + Tailwind CSS
- **Gr√°ficos:** Recharts ou Chart.js
- **Tabelas:** TanStack Table (React Table v8)
- **Formul√°rios:** React Hook Form + Zod
- **Datas:** date-fns
- **Icons:** Lucide React

### Backend/Database:
- **Database:** Supabase (j√° configurado)
- **Auth:** NextAuth.js ou Clerk
- **API Routes:** Next.js API Routes
- **Real-time:** Supabase Realtime (opcional)

### Deploy:
- **Hosting:** Vercel
- **Dom√≠nio Sugerido:** dashboard.qigongbrasil.com

---

## üìä EXEMPLOS DE QUERIES √öTEIS

```sql
-- Hot Leads VIP n√£o contatados
SELECT * FROM quiz_leads 
WHERE is_hot_lead_vip = true 
AND whatsapp_status = 'AGUARDANDO_CONTATO'
ORDER BY lead_score DESC;

-- Leads por elemento
SELECT elemento_principal, COUNT(*) as total, AVG(lead_score) as score_medio
FROM quiz_leads
GROUP BY elemento_principal
ORDER BY total DESC;

-- Leads criados hoje
SELECT COUNT(*) FROM quiz_leads 
WHERE created_at::date = CURRENT_DATE;

-- Taxa de convers√£o por quadrante
SELECT quadrante, COUNT(*) as total,
  SUM(CASE WHEN whatsapp_status = 'CONVERTIDO' THEN 1 ELSE 0 END)::float / COUNT(*) as taxa_conversao
FROM quiz_leads
GROUP BY quadrante;

-- Top 10 leads por score
SELECT nome, email, celular, elemento_principal, lead_score, prioridade
FROM quiz_leads
ORDER BY lead_score DESC
LIMIT 10;
```

---

## üöÄ FUNCIONALIDADES AVAN√áADAS (NICE TO HAVE)

1. **Predi√ß√£o de Convers√£o:** Machine Learning para prever quais leads t√™m maior chance de convers√£o
2. **Notifica√ß√µes:** Alertas quando hot lead entra, ou lead fica X dias sem contato
3. **Integra√ß√£o WhatsApp:** API para envio autom√°tico de mensagens
4. **CRM Integration:** Sincroniza√ß√£o com RD Station, HubSpot, Pipedrive
5. **A/B Testing:** Dashboard para acompanhar testes no quiz
6. **Heatmaps:** Visualizar onde leads clicam/abandonam no quiz
7. **Automa√ß√µes:** Triggers baseados em comportamento (ex: enviar email ap√≥s 3 dias)

---

## üìù OBSERVA√á√ïES IMPORTANTES

- A tabela `quiz_leads` j√° existe e est√° populada
- Credenciais do Supabase est√£o em `.env.local` do projeto atual
- Equipe t√©cnica: 1-2 desenvolvedores
- Prazo ideal: 2-3 sprints (4-6 semanas)
- Usu√°rios do dashboard: 5-10 pessoas (equipe de vendas + gest√£o)

---

## ‚úÖ ENTREG√ÅVEIS ESPERADOS

1. **Dashboard funcional** com todas as views principais
2. **Documenta√ß√£o** de uso para a equipe
3. **README t√©cnico** para manuten√ß√£o
4. **Testes b√°sicos** (pelo menos E2E nos fluxos principais)
5. **Deploy em produ√ß√£o** (Vercel)

---

## üéØ PRIORIZA√á√ÉO (MVP)

### Sprint 1 (Essencial):
- [ ] Vis√£o geral com m√©tricas principais
- [ ] Lista de leads com filtros b√°sicos
- [ ] Detalhes do lead (modal)
- [ ] Exporta√ß√£o CSV
- [ ] Auth b√°sico

### Sprint 2 (Importante):
- [ ] Gr√°ficos e visualiza√ß√µes
- [ ] An√°lise por elemento
- [ ] Funil de vendas
- [ ] Busca e filtros avan√ßados

### Sprint 3 (Desej√°vel):
- [ ] Relat√≥rios customizados
- [ ] Notifica√ß√µes
- [ ] Gest√£o de equipe
- [ ] Integra√ß√µes

---

**Use este contexto completo para desenvolver um dashboard administrativo profissional e estrat√©gico para gest√£o dos leads do Quiz MTC.** üöÄ
```

---

## üíæ **Como Usar Este Prompt:**

1. **Copie todo o conte√∫do acima**
2. **Cole em uma nova conversa** com Claude, ChatGPT ou qualquer LLM
3. **Adicione ao final:** "Desenvolva o dashboard seguindo estas especifica√ß√µes. Comece pela arquitetura e estrutura de pastas do projeto Next.js."

---